<style scoped>.blur-hash-image { position: relative }.absolute { position: absolute }.fade-enter-active, .fade-leave-active {    transition: .32s all linear;}.fade-enter, .fade-leave-to {    filter: blur(2px);    opacity: 0;}</style><template>    <div class='blur-hash-image'>        <transition-group mode='out-in'                          tag='div'                          name='fade'                          class='transition-group'        >            <div class='absolute' v-if='imageSrc' key='image'>                <img                    alt='some image by user upload'                    :width='width' :height='height'                    :src='imageSrc'                />            </div>            <div class='absolute' v-else key='canvas'>                <canvas ref='canvas' :width='width' :height='height'></canvas>            </div>        </transition-group>    </div></template><script>import { decode } from 'blurhash';export default {    props: {        hash: String,        imageSrc: String,        imageWidth: Number, // image width        imageHeight: Number, // image height        designWidth: Number, // design width        designHeight: Number, // design height        punch: Number,    },    computed: {        width() {            return this.designWidth        },        height() {            return this.designHeight                ? this.designHeight                : this.designWidth * this.imageHeight / this.imageWidth << 0        }    },    mounted() {        console.log('blurHash =>',            this.hash,            this.designWidth,            this.designHeight,            this.width,            this.height,            this.punch,        )        this.drawByHash()    },    methods: {        drawByHash() {            const pixels = decode(this.hash, this.width, this.height, this.punch)            const canvas = this.$refs.canvas;            const ctx = canvas.getContext('2d');            const imageData = ctx.createImageData(this.width, this.height)            imageData.data.set(pixels)            ctx.putImageData(imageData, 0, 0)        }    }};</script>